---
import Layout from "../layouts/Layout.astro";
import PocketBase from "pocketbase";
import ProjectCard from "../components/CarrouselAccueil.astro";
import pb from "../utils/pb.ts";
//const pb = new PocketBase(path);

const projects = await pb.collection("carrousel_accueil").getFullList({
	sort: "-created",
});

function getImageUrl(record: any, filename: string) {
	return pb.files.getUrl(record, filename);
}
---

<Layout>
	<section class="bg-[#E8DCC8] -mt-20 lg:mt-0 py-0 overflow-hidden">
		<div class="grid grid-cols-1 lg:grid-cols-2 space-y-0 lg:space-y-0">
			<div
				class="order-1 flex justify-center px-4 pt-24 pb-4 lg:hidden lg:order-2"
			>
				<h1
					class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-[#BF2A52] leading-tight text-center"
				>
					Margaux Couturier
				</h1>
			</div>

			<div
				class="order-2 lg:order-1 flex justify-center lg:justify-start px-4 pb-8 lg:pb-0 h-auto lg:h-[700px]"
			>
				<img
					src="/images/personnage-margaux.webp"
					alt="Illustration de Margaux Couturier"
					class="w-[80%] lg:w-[85%] h-auto max-h-[300px] lg:max-h-[600px] object-contain lg:ml-8"
				/>
			</div>

			<div
				class="order-3 lg:order-2 flex flex-col justify-start items-start px-6 py-4 lg:px-16 lg:py-24"
			>
				<div class="hidden lg:block mb-8">
					<h1
						class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-[#BF2A52] leading-tight text-center lg:text-left"
					>
						Margaux Couturier
					</h1>
				</div>

				<h2
					class="text-xl md:text-2xl italic text-[#BF2A52] font-normal mb-4 lg:mb-6 text-left"
				>
					Bienvenue sur mon site !
				</h2>

				<div
					class="space-y-4 text-base md:text-lg leading-relaxed text-gray-800 max-w-2xl"
				>
					<p class="text-left">
						Je m'appelle Margaux Couturier et j'ai créé cet espace
						pour partager
						<span class="text-[#BF2A52] font-semibold"
							>mon univers créatif et mes inspirations.</span
						>
						Passionnée par la lecture et le dessin, je rêve de devenir
						illustratrice spécialisée dans la création de couvertures
						de livres.
					</p>

					<p class="text-left">
						Chaque projet est pour moi l'occasion d'associer
						<span class="text-[#BF2A52] font-semibold"
							>mon amour des histoires et mon goût pour
							l'illustration</span
						>
						afin de donner vie à des mondes imaginaires.
					</p>

					<p class="text-left">
						J'aime aussi voyager, découvrir de nouvelles cultures et
						m'en inspirer pour
						<span class="text-[#BF2A52] font-semibold"
							>enrichir mon travail artistique.</span
						>
					</p>

					<p class="text-left">
						Ce site est à la fois une vitrine de mon parcours et le
						<span class="text-[#BF2A52] font-semibold"
							>reflet de mon ambition</span
						>
						de transformer ma passion en métier.
					</p>
				</div>
			</div>
		</div>
	</section>

	<section class="bg-white py-16 px-6 md:px-12 lg:px-20">
		<div class="border-t-4 border-[#BF2A52] mb-12"></div>

		<div class="text-center mb-12">
			<h2 class="text-4xl md:text-5xl font-bold text-[#BF2A52] mb-4">
				Mes Projets
			</h2>
			<p class="text-lg text-gray-700">
				Retrouvez les différents projets que j'ai pu faire
			</p>
		</div>

		<div class="max-w-7xl mx-auto">
			<div
				class="flex overflow-x-auto scroll-smooth snap-x snap-mandatory gap-8 px-4 pb-4"
			>
				{
					projects.map((project) => (
						<div class="flex-shrink-0 w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.5rem)] snap-center">
							<ProjectCard
								titre={project.titre}
								descriptif={project.descriptif}
								imageUrl={getImageUrl(project, project.img)}
								projectId={project.id}
							/>
						</div>
					))
				}
			</div>
		</div>

		<div class="border-b-4 border-[#BF2A52] mt-16"></div>
	</section>
</Layout>
