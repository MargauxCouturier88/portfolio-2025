---
import Layout from "../layouts/Layout.astro";
import PocketBase from "pocketbase";
import ProjectCard from "../components/CarrouselAccueil.astro";

const pb = new PocketBase("http://127.0.0.1:8090");

const projects = await pb.collection("carrousel_accueil").getFullList({
	sort: "-created",
});

function getImageUrl(record: any, filename: string) {
	return pb.files.getUrl(record, filename);
}
---

<Layout>
	<section
		class="bg-[#E8DCC8] px-6 md:px-12 lg:px-20 py-16 md:py-24 min-h-screen flex items-center justify-center"
	>
		<div class="max-w-4xl mx-auto">
			<h1
				class="text-5xl md:text-6xl lg:text-7xl font-extrabold text-[#A93F5C] mb-6 leading-tight"
			>
				Margaux Couturier
			</h1>

			<h2
				class="text-2xl md:text-3xl italic text-[#A93F5C] mb-8 font-normal"
			>
				Bienvenue sur mon site !
			</h2>

			<div
				class="space-y-4 text-base md:text-lg leading-relaxed text-gray-800"
			>
				<p>
					Je m'appelle Margaux Couturier et j'ai créé cet espace pour
					partager
					<span class="text-[#A93F5C] font-semibold"
						>mon univers créatif et mes inspirations.</span
					>
					Passionnée par la lecture et le dessin, je rêve de devenir illustratrice
					spécialisée dans la création de couvertures de livres.
				</p>

				<p>
					Chaque projet est pour moi l'occasion d'associer
					<span class="text-[#A93F5C] font-semibold"
						>mon amour des histoires et mon goût pour l'illustration</span
					>
					afin de donner vie à des mondes imaginaires.
				</p>

				<p>
					J'aime aussi voyager, découvrir de nouvelles cultures et
					m'en inspirer pour
					<span class="text-[#A93F5C] font-semibold"
						>enrichir mon travail artistique.</span
					>
				</p>

				<p>
					Ce site est à la fois une vitrine de mon parcours et le
					<span class="text-[#A93F5C] font-semibold"
						>reflet de mon ambition</span
					> de transformer ma passion en métier.
				</p>
			</div>
		</div>
	</section>

	<section class="bg-white py-16 px-6 md:px-12 lg:px-20">
		<div class="border-t-4 border-[#BF2A52] mb-12"></div>

		<div class="text-center mb-12">
			<h2 class="text-4xl md:text-5xl font-bold text-[#BF2A52] mb-4">
				Mes Projets
			</h2>
			<p class="text-lg text-gray-700">
				Retrouvez les différents projets que j'ai pu faire
			</p>
		</div>

		<!-- Carrousel avec scroll -->
		<div class="max-w-7xl mx-auto">
			<div
				class="flex overflow-x-auto scroll-smooth snap-x snap-mandatory gap-8 px-4 pb-4"
			>
				{
					projects.map((project) => (
						<div class="flex-shrink-0 w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.5rem)] snap-center">
							<ProjectCard
								titre={project.titre}
								descriptif={project.descriptif}
								imageUrl={getImageUrl(project, project.img)}
								projectId={project.id}
							/>
						</div>
					))
				}
			</div>
		</div>

		<div class="border-b-4 border-[#BF2A52] mt-16"></div>
	</section>

	<style>
		.overflow-x-auto::-webkit-scrollbar {
			display: none;
		}
		.overflow-x-auto {
			-ms-overflow-style: none;
			scrollbar-width: none;
		}
	</style>
</Layout>
